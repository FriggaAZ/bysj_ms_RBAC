{% extends 'base.html' %}
{% load static %}
{% block title %}创建题目_毕业设计系统{% endblock title %}
{% block topfiles %}
    <script src="/static/vendors/jquery/dist/jquery.min.js"></script>
    <!-- 我这里用了django的模版语法，大家配置的时候按照自己的路径来就可以了 -->
    <!-- 导入css -->
    <link rel="stylesheet" href="/static/plugins/editor.md-master/css/editormd.css"/>
    <!-- 导入js -->
    <script src="/static/plugins/editor.md-master/editormd.js"></script>
{% endblock topfiles %}

{% block body %}
    <div id="test-editormd">
        <textarea name="content" style="display:none;"></textarea>
    </div>
{% endblock body %}

{% block bottomfiles %}
    <script>
        var testEditor;
        $(function () {
            $.get("/static/plugins/editor.md-master/examples/test.md", function (md) {
                testEditor = editormd("test-editormd", {
                    width: "98%",
                    height: 730,
                    path: '/static/plugins/editor.md-master/lib/',
                    markdown: md,
                    codeFold: true,
                    saveHTMLToTextarea: true,
                    searchReplace: true,
                    htmlDecode: "style,script,iframe|on*",
                    emoji: true,
                    taskList: true,
                    tocm: true,         // Using [TOCM]
                    tex: true,                   // 开启科学公式TeX语言支持，默认关闭
                    flowChart: true,             // 开启流程图支持，默认关闭
                    sequenceDiagram: true,       // 开启时序/序列图支持，默认关闭,
                    imageUpload: true,
                    imageFormats: ["jpg", "jpeg", "gif", "png", "bmp", "webp"],
                    imageUploadURL: "/static/plugins/editor.md-master/examples/php/upload.php",
                    {#imageUploadURL: "{% url 'blog:blog_img_upload' %}",#}
                    onload: function () {
                        console.log('onload', this);
                    },

                    {#/**设置主题颜色 把这些注释去掉主题就是黑色的了*/#}
                    {#editorTheme: "pastel-on-dark",#}
                    {#theme: "dark",#}
                    {#previewTheme: "dark"#}
                });
            });
        });

    </script>


{% endblock bottomfiles %}
